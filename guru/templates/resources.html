{% extends 'subject_page.html' %}
{% load crispy_forms_tags %}
{% load humanize %}
{% block subject_content %}
<div class="container">

	{% if is_teacher %}
      	 <button type="button"class="btn btn-info mt-4" data-toggle="modal" data-target="#addResource">
      	 	Add <i class="fa fa-plus" aria-hidden="true"></i>
		</button>
	{% endif %}

	<form style="display: flex;justify-content: flex-end;">
      	<input class="search_input" type="text" name="search" placeholder="Search ...">
      	<button type="submit" class="search_icon">
      	 	<i class="fas fa-search"></i>
      	</button>
	</form><br>

	{% if page %}
		<ul style="min-height:500px;">

			{% for note in page %}
				<a href="{% url 'read_note' classroom.unique_id subject.id note.id %}" 
					style="color:white; color:blue; font-size:1.3em;text-decoration:none;">

					<li class="alert  alert-info" style="list-style-type:none;">
						<span style="font-size: 1.3em;">&#8250;</span>
							{{ note.topic }}<br>
						<span class="float-right"> 
							{{ note.uploaded_on|naturaltime }}
						</span>
					</li>
				</a>
			{% endfor %}

		</ul>
		{% include 'paginations.html' %}	
	{% else %}
		<h1 style="color:blue; font-size: 2vw;">No item found </h1>
	{% endif %}


	{% if is_teacher %}
	<!-- Modal -->
	<div class="modal fade" id="addResource" tabindex="-1" role="dialog" 
			aria-labelledby="exampleModalLabel" aria-hidden="true">
	  	<div  class="modal-dialog " role="document">
	    	<div class="modal-content bg-light">

	      		<div class="modal-header">
		       		<h5 class="modal-title" id="exampleModalLabel ">Add a resource.</h5>
		        	<button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          		<span aria-hidden="true">&times;</span>
		        	</button>
	      		</div>
	      
			    <form method="POST" enctype="multipart/form-data">{% csrf_token %}
		        <div class="modal-body">
					{{ form|crispy }}
					<input type="submit" class="btn btn-primary float-right"value="submit">
				</div>
				</form>
	    	</div>
	  	</div>
	</div>
	{% endif %}
</div>
{% endblock %}
