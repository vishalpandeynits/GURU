{% extends 'base.html' %}
{% load static %}
{% block content %}
{% load crispy_forms_tags %}
<div>
	{% include 'navigation.html' %}
	<div class="row" style="padding:3rem;">

		<div id="home-btn-container">

			<h2 id="col-md-6" style="font-size:4vw;"> 
				Online classes made easy by your own GURU.
			</h2>

		    {% if messages %}
		        <div class="messages container">
		            {% for message in messages %}
		                <div class='alert alert-{{ message.tags }} alert-dismissible fade show'>
		                    {{ message }} 
		                      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
		                        <span aria-hidden="true">&times;</span>
		                      </button>
		                </div>
		            {% endfor %}
		        </div>
		    {% endif %}

			<button onclick="on(document.getElementsByClassName('overlay')[0])" class="btn btn-home">
				Create a class
			</button>

			<button onclick="on(document.getElementsByClassName('overlay')[1])" class='btn btn-home'>
				Join a class 
			</button> <br>


			<div class="overlay">
				<form class="overlayform" method="POST"> {% csrf_token %}
					<a onclick="off(document.getElementsByClassName('overlay')[0])" id="close"> &times;</a> 
					{{ createclassform }}<br>
					<input type="submit" value="Create" class="btn btn-success m-2"> 

				</form>
			</div>

			<div class="overlay">
				<form class="overlayform" method="POST">{% csrf_token %} 
					<a onclick="off(document.getElementsByClassName('overlay')[1])" id="close"> &times;</a><br>
					Unique id: <br>
					<input type="text" placeholder="Unique ID"name="join_key"><br>
					<input type="submit" value="Join" class="btn btn-success float-right m-2"><br><br>
				</form>
			</div>
		</div> <br>

		{% if classes %} 

			<div class="row">
				{% for class in classes %}
					<div class="col-xs-12 col-md-6 col-lg-4">

						<a class="text-center" style="color:white;"
							href="{% url 'subjects' class.unique_id %}">

							<div class="subject-container">

							  <img src="{{class.classroom_pic.url }}" 
							  	style="width:100%;height:350px;">

							  <div class="content">
								    <h1>{{ class|upper }} </h1>
								    <p>by {{ class.created_by }}</p>
							  </div>

							</div>

						</a>

					</div>
				{% endfor %}
			</div>

		{% else %}
			<h1 style="text-align:center;">
				 You are not a member of any class. 
			</h1>
		{% endif %}

	</div>
</div>
{% endblock %} 